tests/localfunction11.fut:
Compiling with --backend=cuda:
Internal compiler error.  Please report this:
  https://github.com/diku-dk/futhark/issues
Type error after pass 'simplify':
In function entry_main
When checking function body
In expression of statement
  {defunc_0_f_res_6199 : ({}, i64),
   defunc_0_f_res_6200 : ({}, [defunc_0_f_res_6199]i32)}
in body of last case
In expression of statement
  {scatter_res_6275 : ({}, [d₀_5972]i32),
   defunc_0_scan_res_6276 : ({}, [d₀_5972]i64)}
in body of last case
When matching
   {scatter_res_6455 : ({}, [d₀_5972]i32)}
with
   segscan(thread; ; grid=num_tblocks_6453; blocksize=segscan_tblock_size_6452)
   (gtid_6456 < d₀_5972) (~phys_tid_6457)
   : {i64} {
     let {x_6458 : ({}, i64)} =
       scatter_res_map_acc_6411[gtid_6456]
     return {returns x_6458}
   }
   ({0i64},
   ,
   \ {eta_p_6459 : i64,
      eta_p_6460 : i64}
     : {i64} ->
     let {defunc_0_op_res_6461 : ({}, i64)} =
       add64(eta_p_6459, eta_p_6460)
     in {defunc_0_op_res_6461})
   \ {x_6462 : i64}
     : {i64} ->
     {x_6462},

Pat
{scatter_res_6455 : ({}, [d₀_5972]i32)}
cannot match value of type
{[d₀_5972]i64}.

tests/issue1435.fut:
Command failed with ExitFailure 1:
./tests/issue1435
Stderr:
./tests/issue1435: Error during context initialisation:
Index [-1] out of bounds for array of shape [3].
-> #0  tests/issue1435.fut:29:22-27

CallStack (from HasCallStack):
  error, called at src/Futhark/Server.hs:172:7 in futhark-server-1.2.3.0-475ef8d6be1e4c879320a546b56bd602a777bc6c707933eef78cbb77765e0bfa:Futhark.Server
tests/rosettacode/amicablepairs.fut:
Compiling with --backend=cuda:
Internal compiler error.  Please report this:
  https://github.com/diku-dk/futhark/issues
Type error after pass 'simplify':
In function entry_main
When checking function body
In expression of statement
  {defunc_0_filter_res_7553 : ({}, i64),
   defunc_0_filter_res_7555 : ({}, i64),
   defunc_0_filter_res_7557 : ({defunc_0_filter_res_7559}, [defunc_0_filter_res_7553]i32),
   defunc_0_filter_res_7559 : ({defunc_0_filter_res_7557}, [defunc_0_filter_res_7555]i32)}
in body of last case
In expression of statement
  {scatter_res_7858 : ({}, [d<{(*) upper upper}>_7444]i32),
   scatter_res_7859 : ({}, [d<{(*) upper upper}>_7444]i32)}
Type error:
Anonymous function defined with 4 parameters:
[eta_p_7778 : i64, eta_p_7777 : i64, write_value_7779 : i32, write_value_7780 : i32]
but expected to take 2 arguments.

tests/rosettacode/filter.fut:
Compiling with --backend=cuda:
Running compiled program:
Running ./tests/rosettacode/filter:
Entry point: main; dataset: #0 ("[1i32, 2i32, 3i32, 4i32, 5i32, 6i32, 7i32, 8i32, 9..."):
tests/rosettacode/filter.fut.main.0.actual and tests/rosettacode/filter.fut.main.0.expected do not match:
Value #0 index [0]: expected 2, got 0
...and 3 other mismatches.
tests/existential-ifs/partition.fut:
Compiling with --backend=cuda:
Running compiled program:
Running ./tests/existential-ifs/partition:
Entry point: main; dataset: #0 ("[1i32, 1i32, 1i32, 1i32, 1i32]"):
tests/existential-ifs/partition.fut.main.0.actual and tests/existential-ifs/partition.fut.main.0.expected do not match:
Value #0 index [1]: expected 1, got 0
...and 3 other mismatches.
tests/quickselect.fut:
Compiling with --backend=cuda:
Running compiled program:
Running ./tests/quickselect:
Entry point: main; dataset: #1 ("[4i32, -8i32, 2i32, 2i32, 0i32, 0i32, 5i32, 9i32, ..."):
tests/quickselect.fut.main.1.actual and tests/quickselect.fut.main.1.expected do not match:
Value #0: expected 4, got 5
tests/memory-block-merging/coalescing/issue-2010.fut:
Compiling with --backend=cuda:
Running compiled program:
Running ./tests/memory-block-merging/coalescing/issue-2010:
Entry point: main; dataset: #0 ("[1i32, 2i32, 3i32, 4i32, 5i32, 6i32, 7i32]"):
tests/memory-block-merging/coalescing/issue-2010.fut.main.0.actual and tests/memory-block-merging/coalescing/issue-2010.fut.main.0.expected do not match:
Value #1 index [2]: expected 6, got 96
...and 4 other mismatches.
tests/quickmedian.fut:
Compiling with --backend=cuda:
Running compiled program:
Running ./tests/quickmedian:
Entry point: main; dataset: #1 ("[4i32, -8i32, 2i32, 2i32, 0i32, 0i32, 5i32, 9i32, ..."):
tests/quickmedian.fut.main.1.actual and tests/quickmedian.fut.main.1.expected do not match:
Value #0: expected 0, got 224
tests/tokens.fut:
After sending command "call" to server process:fd:92: hGetLine: end of file
Server stderr:

CallStack (from HasCallStack):
  error, called at src/Futhark/Server.hs:279:7 in futhark-server-1.2.3.0-475ef8d6be1e4c879320a546b56bd602a777bc6c707933eef78cbb77765e0bfa:Futhark.Server
tests/fusion/Vers2.0/maposcanomaposcan.fut:
Compiling with --backend=cuda:
Internal compiler error.  Please report this:
  https://github.com/diku-dk/futhark/issues
Type error after pass 'simplify':
In function entry_main
When checking function body
When matching
   {defunc_0_map_res_5856 : ({}, [d₀_5684]f64)}
with
   segscan(thread; ; grid=num_tblocks_5883; blocksize=segscan_tblock_size_5881)
   (gtid_5885 < d₀_5684) (~phys_tid_5886)
   : {f64} {
     let {x_5770 : ({}, f64)} =
       res_5874[0i64, gtid_5885]
     return {returns x_5770}
   }
   ({0.0f64},
   ,
   \ {eta_p_5758 : f64,
      eta_p_5759 : f64}
     : {f64} ->
     let {defunc_0_op_res_5760 : ({}, f64)} =
       fadd64(eta_p_5758, eta_p_5759)
     in {defunc_0_op_res_5760})
   \ {eta_p_5762 : f64}
     : {f64,
        f64} ->
     let {lifted_lambda_res_5763 : ({}, f64)} =
       fadd64(5.0f64, eta_p_5762)
     in {lifted_lambda_res_5763, eta_p_5762},

Pat
{defunc_0_map_res_5856 : ({}, [d₀_5684]f64)}
cannot match value of type
{[d₀_5684]f64,
 [d₀_5684]f64}.

tests/fusion/Vers2.0/maposcan0.fut:
Compiling with --backend=cuda:
Internal compiler error.  Please report this:
  https://github.com/diku-dk/futhark/issues
Type error after pass 'simplify':
In function entry_main
When checking function body
When matching
   {defunc_0_map_res_5573 : ({}, [d₀_5536]f64)}
with
   segscan(thread; ; grid=num_tblocks_5579; blocksize=segscan_tblock_size_5577)
   (gtid_5581 < d₀_5536) (~phys_tid_5582)
   : {f64} {
     let {x_5572 : ({}, f64)} =
       arr_5537[gtid_5581]
     return {returns x_5572}
   }
   ({0.0f64},
   ,
   \ {eta_p_5565 : f64,
      eta_p_5566 : f64}
     : {f64} ->
     let {defunc_0_op_res_5567 : ({}, f64)} =
       fadd64(eta_p_5565, eta_p_5566)
     in {defunc_0_op_res_5567})
   \ {eta_p_5569 : f64}
     : {f64,
        f64} ->
     let {lifted_lambda_res_5570 : ({}, f64)} =
       fmul64(2.0f64, eta_p_5569)
     in {lifted_lambda_res_5570, eta_p_5569},

Pat
{defunc_0_map_res_5573 : ({}, [d₀_5536]f64)}
cannot match value of type
{[d₀_5536]f64,
 [d₀_5536]f64}.

tests/fusion/fusion4.fut:
Compiling with --backend=cuda:
Running compiled program:
Running ./tests/fusion/fusion4:
Entry point: main; dataset: #0 ("[9i32, -3i32, 5i32, 2i32]"):
tests/fusion/fusion4.fut.main.0.actual and tests/fusion/fusion4.fut.main.0.expected do not match:
Value #0: expected 6, got -1963030589
tests/fusion/fuseFilter1.fut:
Compiling with --backend=cuda:
Running compiled program:
Running ./tests/fusion/fuseFilter1:
Entry point: main; dataset: #0 ("[3i32, 5i32, -2i32, 3i32, 4i32, -30i32] [-4i32, 10..."):
tests/fusion/fuseFilter1.fut.main.0.actual and tests/fusion/fuseFilter1.fut.main.0.expected do not match:
Value #0 index [1]: expected 4, got 0
tests/fusion/fuseFilter2.fut:
Compiling with --backend=cuda:
Running compiled program:
Running ./tests/fusion/fuseFilter2:
Entry point: main; dataset: #0 ("[1i32, 2i32, 3i32, 4i32] [5i32, 6i32, 7i32, 8i32]"):
tests/fusion/fuseFilter2.fut.main.0.actual and tests/fusion/fuseFilter2.fut.main.0.expected do not match:
Value #0: expected 26, got 229
tests/fusion/filter-filter1.fut:
Compiling with --backend=cuda:
Running compiled program:
Running ./tests/fusion/filter-filter1:
Entry point: main; dataset: #0 ("[1i32, 2i32, 3i32, 4i32, 5i32, 6i32, 7i32, 8i32, 9..."):
tests/fusion/filter-filter1.fut.main.0.actual and tests/fusion/filter-filter1.fut.main.0.expected do not match:
Value #0 index [1]: expected 30, got -1
...and 4 other mismatches.
tests/soacs/filter3.fut:
Compiling with --backend=cuda:
Warning at tests/soacs/filter3.fut:12:27-28:
  Unused name "i".
Internal compiler error.  Please report this:
  https://github.com/diku-dk/futhark/issues
Type error after pass 'simplify':
In function entry_main
When checking function body
In expression of statement
  {tmp_6180 : ({}, i64)}
in body of case {true}
Type error:
Type annotation is
  {i64}
But result returns type
  {i32}


tests/soacs/partition1.fut:
Compiling with --backend=cuda:
Running compiled program:
Running ./tests/soacs/partition1:
Entry point: main; dataset: #0 ("[0i32, 1i32, 2i32, 3i32, 4i32, 5i32, 6i32, 7i32, 8..."):
tests/soacs/partition1.fut.main.0.actual and tests/soacs/partition1.fut.main.0.expected do not match:
Value #1 index [0]: expected 3, got 32549
...and 4 other mismatches.
tests/soacs/filter1.fut:
Compiling with --backend=cuda:
Running compiled program:
Running ./tests/soacs/filter1:
Entry point: main; dataset: #0 ("[1i32, 0i32, 2i32, -5i32, 3i32, -1i32]"):
tests/soacs/filter1.fut.main.0.actual and tests/soacs/filter1.fut.main.0.expected do not match:
Value #0 index [1]: expected 2, got -12601350
...and 1 other mismatches.
tests/soacs/partition2.fut:
Compiling with --backend=cuda:
Running compiled program:
Running ./tests/soacs/partition2:
Entry point: main; dataset: #0 ("[2i32, 7i32, 1i32, 2i32, 8i32, 9i32, 1i32, 5i32, 0..."):
tests/soacs/partition2.fut.main.0.actual and tests/soacs/partition2.fut.main.0.expected do not match:
Value #2 index [0]: expected 8, got 32541
...and 10 other mismatches.
tests/ad/issue1879.fut:
Compiling with --backend=cuda:
Warning at tests/ad/issue1879.fut:10:13-18:
  Unused name "sizes".
Internal compiler error (unhandled IO exception).
Please report this at https://github.com/diku-dk/futhark/issues
vjpSOAC unhandled:
scanscatter(n₃_6420,
            {defunc_0_map_res_7026, defunc_0_map_res_7027, eta_p_6922},
            \ {x_6998 : i64,
               x_6999 : i64,
               x_7000 : [3i64]f64}
              : {i64,
                 i64,
                 i64,
                 [3i64]f64} ->
              {x_6998, x_6999, x_6998, x_7000},
            \ {eta_p_6944 : i64,
               eta_p_6945 : i64,
               eta_p_6946 : i64,
               eta_p_6947 : i64}
              : {i64,
                 i64} ->
              let {tmp_6948 : i64} =
                add64(eta_p_6944, eta_p_6946)
              let {tmp_6949 : i64} =
                add64(eta_p_6945, eta_p_6947)
              in {tmp_6948, tmp_6949},
            {0i64, 0i64},
            ([n₃_6420], 1, scatter_arg_ad_copy_7066),
            \ {eta_p_6986 : i64,
               eta_p_6987 : i64,
               eta_p_6985 : i64,
               write_value_6988 : [3i64]f64}
              : {i64,
                 [3i64]f64} ->
              let {cond_6989 : bool} =
                eq_i64(eta_p_6985, 1i64)
              let {lifted_to_index_res_6990 : i64} =
                if cond_6989
                then {
                  let {lifted_to_index_res_t_res_6991 : i64} =
                    sub64(eta_p_6986, 1i64)
                  in {lifted_to_index_res_t_res_6991}
                } else {
                  let {-_lhs_6992 : i64} =
                    add64(eta_p_6987, defunc_0_reduce_comm_res_7025)
                  let {lifted_to_index_res_f_res_6993 : i64} =
                    sub64(-_lhs_6992, 1i64)
                  in {lifted_to_index_res_f_res_6993}
                }
                : {i64}
              in {lifted_to_index_res_6990, write_value_6988})
CallStack (from HasCallStack):
  error, called at src/Futhark/AD/Rev/SOAC.hs:199:3 in futhark-0.26.0-inplace:Futhark.AD.Rev.SOAC